(this.webpackJsonpschoolreact=this.webpackJsonpschoolreact||[]).push([[0],{121:function(e,a,t){e.exports=t(152)},126:function(e,a,t){},151:function(e,a,t){},152:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(16),s=t.n(i),l=(t(126),t(7)),c=t.n(l),o=t(12),u=t(6),m=t(9),d=t(187),p=t(190),b=t(192),h=t(193),g=t(194),f=t(195),E=function(){var e=Object(n.useState)((function(){return!1})),a=Object(u.a)(e,2),t=a[0],r=a[1],i=Object(n.useState)(!1),s=Object(u.a)(i,2),l=s[0],c=s[1],o=Object(n.useState)(""),m=Object(u.a)(o,2),d=m[0],p=m[1],b=Object(n.useState)({token:void 0,user:void 0}),h=Object(u.a)(b,2);return{isLogin:t,setIsLogin:r,loginto:function(){console.log("vf")},loginOpen:l,setLoginOpen:c,userdata:h[0],setUserData:h[1],token:d,setToken:p}},v=t(212),x=t(153),j=t(105),O=t(11),N=t.n(O),C=t(19),y=Object(n.createContext)(null),P=Object(d.a)((function(){return{error:{border:"0px",borderRadius:"10px",padding:"4px 8px",margin:"5px 0",color:"#ec0101",display:"flex",justifyContent:"space-between",alignItems:"center"},but:{backgroundColor:"#fff",borderRadius:"50px",border:"0px",color:"#ec0101"}}}));function w(e){var a=P();return r.a.createElement("div",{className:a.error},r.a.createElement("span",null,e.message),r.a.createElement("button",{onClick:e.clearError,className:a.but},"X"))}var k=Object(d.a)((function(e){return{toolbar:{backgroundColor:"#f6f5f5"},imgTool:{paddingTop:"10px",paddingRight:"5px"},Btm:{marginLeft:e.spacing(2)},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paperInput:{padding:"25px",margin:"20px",width:"400px"},form:{display:"flex",flexDirection:"column"},text:{margin:"10px 0px"}}})),S={userName:"",password:"",oldPassword:"",newPassword:"",newConPassword:""};var T=function(e){var a=k(),t=Object(n.useState)(""),i=Object(u.a)(t,2),s=i[0],l=i[1],d=Object(n.useState)(""),O=Object(u.a)(d,2),P=O[0],T=O[1],A=Object(n.useState)(""),W=Object(u.a)(A,2),I=W[0],D=W[1],L=Object(n.useState)(""),q=Object(u.a)(L,2),_=q[0],z=q[1],U=Object(n.useState)(""),M=Object(u.a)(U,2),R=M[0],Z=M[1],F=Object(n.useState)(!1),$=Object(u.a)(F,2),B=$[0],V=$[1],Y=Object(n.useContext)(y),K=Y.userDataf,J=Y.setUserDataf,G=(Y.loggged,Y.setLogged),H=Object(n.useState)(S),X=Object(u.a)(H,2),Q=X[0],ee=X[1],ae=Object(C.f)(),te=Object(n.useState)(""),ne=Object(u.a)(te,2),re=ne[0],ie=ne[1],se=E(),le=se.setLoginOpen,ce=(se.isLogin,se.loginOpen);return se.setIsLogin,r.a.createElement(n.Fragment,null,r.a.createElement(p.a,{position:"sticky",className:a.toolbar},r.a.createElement(b.a,null,r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0},r.a.createElement(h.a,{container:!0},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/54/American_Broadcasting_Company_Logo.svg",alt:"logo",width:"40",height:"40",className:a.imgTool}),r.a.createElement("h3",{style:{color:"#14274e"}},"ABC Corporation"))),r.a.createElement(h.a,{item:!0,xs:!0}),r.a.createElement(h.a,{item:!0,style:{paddingTop:"12px"}},K.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{variant:"outlined",color:"primary",size:"small",style:{marginRight:"12px"},onClick:function(){console.log(K.user.role,"dashBoard"),K.user.role&&(console.log(K.user.role),ae.push("/".concat(K.user.role)))}},"Dashboard"),r.a.createElement(g.a,{variant:"outlined",color:"primary",size:"small",style:{marginRight:"12px"},onClick:function(){V(!0)}},"Change Password"),r.a.createElement(g.a,{variant:"outlined",color:"secondary",size:"small",className:a.btm,onClick:function(){J({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),ae.push("/")}},"Sign Out")):r.a.createElement(g.a,{variant:"outlined",color:"primary",className:a.btm,onClick:function(e){le(!0)}},"Login"))))),r.a.createElement(v.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:ce,onClose:function(){le(!1),l(""),T(""),ie(""),ee(S)},className:a.modal},r.a.createElement(x.a,{className:a.paperInput},r.a.createElement("form",{className:a.form},r.a.createElement(j.a,{variant:"h5"},"Login"),re&&r.a.createElement(w,{message:re,clearError:function(){return ie("")}}),r.a.createElement(f.a,Object.assign({name:"userName",variant:"outlined",label:"Username",autoFocus:!0,className:a.text},Q.userName&&{error:!0,helperText:Q.userName},{value:s,onChange:function(e){l(e.target.value)}})),r.a.createElement(f.a,Object.assign({name:"password",variant:"outlined",label:"Password",type:"password",className:a.text,value:P},Q.password&&{error:!0,helperText:Q.password},{onChange:function(e){return T(e.target.value)}})),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(e){if(e.preventDefault(),function(){var e={};return e.userName=s?"":"This Feild is required.",e.password=P?"":"This Feild is required.",ee(Object(m.a)({},e)),Object.values(e).every((function(e){return""===e}))}()){console.log("hey login");try{var a={userName:s,password:P};(function(){var e=Object(o.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return URL="/user/login",e.prev=1,e.next=4,N.a.post(URL,a);case 4:t=e.sent,console.log("ohh noo it's here"),J({token:t.data.token,user:t.data.user}),le(!1),localStorage.setItem("auth-token",t.data.token),G(t.data.user.role),l(""),T(""),ie(""),ee(S),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),e.t0.response.data.msg&&ie(e.t0.response.data.msg);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(a){return e.apply(this,arguments)}})()(a)}catch(t){t.response.data.msg&&ie(t.response.data.msg)}}},type:"submit"},"Login")))),r.a.createElement(v.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:B,onClose:function(){V(!1),z(""),Z(""),D(""),ie(""),ee(S)},className:a.modal},r.a.createElement(x.a,{className:a.paperInput},r.a.createElement("form",{className:a.form},r.a.createElement(j.a,{variant:"h5"},"Change Password"),re&&r.a.createElement(w,{message:re,clearError:function(){return ie("")}}),r.a.createElement(f.a,Object.assign({name:"oldPassword",variant:"outlined",label:"Current password",autoFocus:!0,className:a.text},Q.oldPassword&&{error:!0,helperText:Q.oldPassword},{value:R,onChange:function(e){Z(e.target.value)}})),r.a.createElement(f.a,Object.assign({name:"Newpassword",variant:"outlined",label:"New Password",type:"password",className:a.text},Q.newPassword&&{error:!0,helperText:Q.newPassword},{value:_,onChange:function(e){return z(e.target.value)}})),r.a.createElement(f.a,Object.assign({name:"NewConpassword",variant:"outlined",label:"Confirm New Password",type:"password",className:a.text},Q.newConPassword&&{error:!0,helperText:Q.newConPassword},{value:I,onChange:function(e){return D(e.target.value)}})),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(e){if(e.preventDefault(),function(){var e={};return e.oldPassword=R?"":"This Feild is required.",e.newPassword=_?"":"This Feild is required.",e.newConPassword=I===_?"":"Password did not match.",ee(Object(m.a)({},e)),Object.values(e).every((function(e){return""===e}))}())try{var a={oldPassword:R,password:_,id:K.user.id};(function(){var e=Object(o.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return URL="/user/changepassword",e.prev=1,e.next=4,N.a.post(URL,a,{headers:{"x-auth-token":K.token}});case 4:e.sent,V(!1),ie(""),ee(S),D(""),z(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0.response.data.msg&&ie(e.t0.response.data.msg);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(a){return e.apply(this,arguments)}})()(a)}catch(t){console.log(t.response.data.msg),t.response.data.msg&&ie(t.response.data.msg)}},type:"submit"},"change password")))))},A=t(20),W=t(210),I=t(10),D=t(201),L=t(214),q=t(202),_=t(203),z=t(204),U=t(199),M=t(200),R=t(197),Z=t(53),F=t(25),$=t(211);function B(e){var a=e.values,t=e.error2,n=e.setValues,i=e.setError2,s=e.handleChange,l=e.onSubmitChange,c=e.classes,o=e.errors;return r.a.createElement("div",null,r.a.createElement(x.a,{className:c.paperInput},r.a.createElement("form",null,r.a.createElement(j.a,{variant:"h5"},"Add Institute Details"),t&&r.a.createElement(w,{message:t,clearError:function(){return i("")}}),r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(f.a,Object.assign({name:"instName",variant:"outlined",label:"Institute Name",autoFocus:!0,value:a.instName,onChange:s,className:c.text},o.instName&&{error:!0,helperText:o.instName},{required:!0,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instEmail",variant:"outlined",label:"Email",value:a.instEmail,onChange:s,className:c.text},o.instEmail&&{error:!0,helperText:o.instEmail},{required:!0,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instPhone",variant:"outlined",label:"Phone",value:a.instPhone,onChange:s,className:c.text},o.instPhone&&{error:!0,helperText:o.instPhone},{required:!0,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instAddress",variant:"outlined",label:"Address",value:a.instAddress},o.instAddress&&{error:!0,helperText:o.instAddress},{required:!0,multiline:!0,rows:3,onChange:s,className:c.text,fullWidth:!0}))),r.a.createElement(h.a,{item:!0,xs:6,className:c.side},r.a.createElement(f.a,Object.assign({name:"instWebsite",variant:"outlined",label:"Website",value:a.instWebsite},o.instWebsite&&{error:!0,helperText:o.instWebsite},{onChange:s,className:c.text,required:!0,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instLogo",variant:"outlined",label:"Logo URL",value:a.instLogo,onChange:s},o.instLogo&&{error:!0,helperText:o.instLogo},{className:c.text,required:!0,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instMaxNumber",variant:"outlined",label:"Max Number",value:a.instMaxNumber},o.instMaxNumber&&{error:!0,helperText:o.instMaxNumber},{onChange:s,required:!0,className:c.text,fullWidth:!0})),r.a.createElement(F.a,{utils:Z.a},r.a.createElement($.a,{disableToolbar:!0,className:c.text,variant:"inline",name:"instSubDate",format:"MM/dd/yyyy",inputVariant:"outlined",margin:"normal",value:a.instSubDate,label:"Subscription End Date",fullWidth:!0,size:"small",onChange:function(e){return n((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(I.a)({},"instSubDate",e))}))},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(g.a,{variant:"contained",color:"primary",className:c.button,onClick:l},"Save"))))))}var V=t(198);function Y(){return r.a.createElement(V.a,null,r.a.createElement(U.a,null,r.a.createElement(M.a,null,"Logo"),r.a.createElement(M.a,null,"Institute Name"),r.a.createElement(M.a,{align:"right"},"Phone Number"),r.a.createElement(M.a,{align:"right"},"Email"),r.a.createElement(M.a,{align:"right"},"Active Status"),r.a.createElement(M.a,{align:"right"},"Actions")))}var K=t(52),J=t.n(K),G=t(51),H=t.n(G),X=t(216),Q=Object(d.a)((function(){return{text:{padding:"4px",marginTop:"10px"},paperInput:{padding:"25px"},side:{paddingLeft:"20px"},button:{marginLeft:"30px",margin:"10px 0"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},addPaper:{display:"flex",flexDirection:"row-reverse",marginTop:"7px"},link:{textDecoration:"none",color:"#000"}}})),ee={instName:"",instEmail:"",instPhone:"",instAddress:"",instWebsite:"",instLogo:"",instSubDate:new Date,instMaxNumber:"",instActive:!1};function ae(e){var a,t=Object(C.f)(),i=Object(n.useState)(ee),s=Object(u.a)(i,2),l=s[0],d=s[1],p=Object(n.useState)(ee),b=Object(u.a)(p,2),h=b[0],f=b[1],E=Object(n.useState)(),v=Object(u.a)(E,2),j=v[0],O=v[1],P=Object(n.useContext)(y).userDataf,w=Object(n.useState)(!1),k=Object(u.a)(w,2),S=k[0],T=k[1],W=Object(n.useState)([]),Z=Object(u.a)(W,2),F=Z[0],$=Z[1];Object(n.useEffect)((function(){V()}),[l,P]);var V=function(){var e=Object(o.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/data/all",e.next=4,N.a.get("/data/all",{headers:{"x-auth-token":P.token}});case 4:a=e.sent,$((function(){return a.data})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response.data.msg&&O(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),K=Q();return r.a.createElement("div",null,r.a.createElement("div",{className:K.addPaper},r.a.createElement(g.a,{onClick:function(){return T(!0)},variant:"contained",color:"primary",className:K.button,endIcon:r.a.createElement(D.a,null,"send")},"Add New Institute")),r.a.createElement(L.a,{"aria-labelledby":"form-dialog-title","aria-describedby":"simple-dialog-description",fullWidth:!0,maxWidth:"md",open:S,onClose:function(){T(!1),d(ee),f(ee)},className:K.modal},r.a.createElement(B,(a={values:l,setValues:d},Object(I.a)(a,"setValues",d),Object(I.a)(a,"errors",h),Object(I.a)(a,"error2",j),Object(I.a)(a,"setError2",O),Object(I.a)(a,"handleChange",(function(e){var a=e.target,t=a.name,n=a.value;d((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(I.a)({},t,n))}))})),Object(I.a)(a,"onSubmitChange",(function(e){e.preventDefault();var a=l,n=function(){var e=Object(o.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/data/inst",a.instPhone="+91"+a.instPhone,e.next=5,N.a.post("/data/inst",a,{headers:{"x-auth-token":P.token}});case 5:e.sent,d(ee),t.push("/superadmin"),f(""),T(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0.response.data.msg&&O(e.t0.response.data.msg);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(a){return e.apply(this,arguments)}}();(function(){var e={};return e.instEmail=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(l.instEmail)?"":"Email is not valid",e.instName=l.instName?"":"This feild is required.",e.instPhone=10===l.instPhone.length?"":"Phone number is not vaild.",e.instAddress=l.instAddress?"":"This feild is required.",e.instWebsite=l.instWebsite?"":"This feild is required.",e.instLogo=l.instLogo?"":"This feild is required.",e.instMaxNumber=l.instMaxNumber?"":"This feild is required.",f(Object(m.a)({},e)),Object.values(e).every((function(e){return""===e}))})()&&n(a)})),Object(I.a)(a,"classes",K),a))),r.a.createElement(x.a,null,r.a.createElement(q.a,{component:x.a,className:K.table},r.a.createElement(_.a,{"arial-label":"simple table"},r.a.createElement(Y,null),r.a.createElement(z.a,null,F.map((function(e,a){return r.a.createElement(U.a,{key:a},r.a.createElement(M.a,null,r.a.createElement(A.b,{to:"/superadmin/view/".concat(e._id),className:K.link},"  ",r.a.createElement(X.a,{alt:e.instName,src:e.instLogo}))),r.a.createElement(M.a,null,r.a.createElement(A.b,{to:"/superadmin/view/".concat(e._id),className:K.link},"  ",e.instName)),r.a.createElement(M.a,{align:"right"},r.a.createElement(A.b,{to:"/superadmin/view/".concat(e._id),className:K.link},"  ",e.instPhone)),r.a.createElement(M.a,{align:"right"},r.a.createElement(A.b,{to:"/superadmin/view/".concat(e._id),className:K.link}," ",e.instEmail)),r.a.createElement(M.a,{align:"right"},r.a.createElement(A.b,{to:"/superadmin/view/".concat(e._id),className:K.link},"  ",e.instActive?"Active":"Deactive")),r.a.createElement(M.a,{align:"right"},r.a.createElement(R.a,{color:"primary",onClick:function(){return t.push("/superadmin/edit/".concat(e._id))}},r.a.createElement(H.a,null)),r.a.createElement(R.a,{color:"secondary",onClick:function(){return function(e){window.alert("Are You Sure Want To Delete?");var a="/data/inst/"+e;console.log(e),function(){var e=Object(o.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.delete(a,{headers:{"x-auth-token":P.token}});case 3:r=e.sent,console.log(r),V(),t.push("/superadmin"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response.data.msg&&O(e.t0.response.data.msg);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()(e)}(e._id)}},r.a.createElement(J.a,null))))})))))))}var te=t(73),ne=Object(d.a)((function(){return{paper:{padding:"20px",marginTop:"20px"}}}));function re(){var e=ne();return r.a.createElement("div",null,r.a.createElement(x.a,{className:e.paper},r.a.createElement("strong",null," Home Page")))}function ie(e){var a=e.component,t=Object(te.a)(e,["component"]),i=Object(n.useContext)(y),s=(i.userDataf,i.setUserDataf,i.loggged);i.setLogged;return r.a.createElement(C.b,Object.assign({},t,{render:function(e){return"superadmin"===s?r.a.createElement(a,e):(console.log(s),r.a.createElement(C.a,{to:{pathname:"/"}}))}}))}var se=Object(d.a)((function(){return{text:{padding:"4px",marginTop:"10px"},paperInput:{padding:"25px",margin:"20px",width:"50%"},side:{paddingLeft:"20px"},button:{marginLeft:"30px",margin:"10px 0"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},addPaper:{display:"flex",flexDirection:"row-reverse",marginTop:"7px"}}})),le={instName:"",instEmail:"",instPhone:"",instAddress:"",instWebsite:"",instLogo:"",instSubCat:"",instCat:"",instActive:!1,instSutdentDetails:[]};function ce(e){var a=e.match,t=se(),i=Object(n.useContext)(y).userDataf,s=Object(n.useState)(le),l=Object(u.a)(s,2),m=l[0],d=l[1],p=Object(n.useState)(),b=Object(u.a)(p,2),g=(b[0],b[1],Object(C.f)(),Object(n.useState)(0)),f=Object(u.a)(g,2),E=f[0],v=f[1];Object(n.useEffect)((function(){j(a.params.id)}),[]);var j=function(){var e=Object(o.a)(c.a.mark((function e(a){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/data/Inst/"+a,e.next=3,N.a.get(t,{headers:{"x-auth-token":i.token}});case 3:n=e.sent,console.log(n),d(n.data),n.data.instSutdentDetails.map((function(e){e.active&&v((function(e){return e+1}))}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:t.modal},r.a.createElement(x.a,{className:t.paperInput},r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:6},"Total Number of Students"),r.a.createElement(h.a,{item:!0,xs:6},m.instSutdentDetails.length),r.a.createElement(h.a,{item:!0,xs:6},"Total Number of  Active Students"),r.a.createElement(h.a,{item:!0,xs:6},E),r.a.createElement(h.a,{item:!0,xs:6},"Total Number Inactive Students"),r.a.createElement(h.a,{item:!0,xs:6},m.instSutdentDetails.length-E))))}var oe=Object(d.a)((function(){return{text:{padding:"4px",marginTop:"10px"},paperInput:{padding:"25px",margin:"20px"},side:{paddingLeft:"20px"},button:{marginLeft:"30px",margin:"10px 0"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},addPaper:{display:"flex",flexDirection:"row-reverse",marginTop:"7px"}}})),ue={instName:"",instEmail:"",instPhone:"",instAddress:"",instWebsite:"",instLogo:"",instSubCat:"",instCat:"",instActive:Boolean};function me(e){var a=e.match,t=oe(),i=Object(n.useContext)(y).userDataf,s=Object(n.useState)(ue),l=Object(u.a)(s,2),d=l[0],p=l[1],b=Object(n.useState)(),E=Object(u.a)(b,2),v=E[0],O=E[1],P=Object(n.useState)(ue),k=Object(u.a)(P,2),S=k[0],T=k[1],A=Object(C.f)();Object(n.useEffect)((function(){W(a.params.id)}),[]);var W=function(){var e=Object(o.a)(c.a.mark((function e(a){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/data/Inst/"+a,e.next=3,N.a.get(t,{headers:{"x-auth-token":i.token}});case 3:n=e.sent,console.log(n),p(n.data);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),D=function(e){var a=e.target,t=a.name,n=a.value;p((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(I.a)({},t,n))}))};return console.log(a),r.a.createElement("div",null,r.a.createElement(x.a,{className:t.paperInput},r.a.createElement("form",null,r.a.createElement(j.a,{variant:"h5"},"Edit Institute Details"),v&&r.a.createElement(w,{message:v,clearError:function(){return O("")}}),r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(f.a,Object.assign({name:"instName",variant:"outlined",label:"Institute Name",autoFocus:!0},S.instName&&{error:!0,helperText:S.instName},{value:d.instName,onChange:D,className:t.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instEmail",variant:"outlined",label:"Email",value:d.instEmail,onChange:D},S.instEmail&&{error:!0,helperText:S.instEmail},{className:t.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instPhone",variant:"outlined",label:"Phone",value:d.instPhone,onChange:D},S.instPhone&&{error:!0,helperText:S.instPhone},{className:t.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instAddress",variant:"outlined",label:"Address",value:d.instAddress,multiline:!0,rows:3,onChange:D},S.instAddress&&{error:!0,helperText:S.instAddress},{className:t.text,fullWidth:!0}))),r.a.createElement(h.a,{item:!0,xs:6,className:t.side},r.a.createElement(f.a,Object.assign({name:"instWebsite",variant:"outlined",label:"Website",value:d.instWebsite},S.instWebsite&&{error:!0,helperText:S.instWebsite},{onChange:D,className:t.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instLogo",variant:"outlined",label:"Logo URL",value:d.instLogo},S.instLogo&&{error:!0,helperText:S.instLogo},{onChange:D,className:t.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instCat",variant:"outlined",label:"Category",value:d.instCat},S.instCat&&{error:!0,helperText:S.instCat},{onChange:D,className:t.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instSubCat",variant:"outlined",label:"Sub Category",value:d.instSubCat},S.instSubCat&&{error:!0,helperText:S.instSubCat},{onChange:D,className:t.text,fullWidth:!0})),r.a.createElement(g.a,{variant:"contained",color:"primary",className:t.button,type:"submit",onClick:function(e){e.preventDefault(),console.log(d._id);var a=function(){var e=Object(o.a)(c.a.mark((function e(a,t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="/data/inst/"+a,e.next=4,N.a.put(n,t,{headers:{"x-auth-token":i.token}});case 4:(r=e.sent)&&(console.log(r),A.push("/admin")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response.data.msg&&O(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,t){return e.apply(this,arguments)}}();(function(){var e={};return e.instEmail=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(d.instEmail)?"":"Email is not valid",e.instName=d.instName?"":"This feild is required.",e.instPhone=13===d.instPhone.length?"":"Phone number is not vaild.",e.instAddress=d.instAddress?"":"This feild is required.",e.instWebsite=d.instWebsite?"":"This feild is required.",e.instLogo=d.instLogo?"":"This feild is required.",e.instMaxNumber=d.instMaxNumber?"":"This feild is required.",T(Object(m.a)({},e)),Object.values(e).every((function(e){return""===e}))})()&&a(d._id,d)}},"Update"))))))}var de=t(206),pe=t(205),be=t(196),he=t(161),ge=t(217),fe=t(157),Ee=t(156),ve=t(159);function xe(e){var a,t=e.student,n=e.classes,i=e.handleChange,s=e.onSubmitChange,l=e.valuesInst,c=e.errors;e.setErrors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,null,"Student Details"),r.a.createElement(be.a,null,r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(f.a,Object.assign({name:"stuName",variant:"outlined",label:"Student Name",autoFocus:!0,value:t.stuName,onChange:i},c.stuName&&{error:!0,helperText:c.stuName},{className:n.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"stuId",variant:"outlined",label:"Student Id"},c.stuId&&{error:!0,helperText:c.stuId},{value:t.stuId,onChange:i,className:n.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"stuEmail",variant:"outlined",label:"Student Email"},c.stuEmail&&{error:!0,helperText:c.stuEmail},{value:t.stuEmail,onChange:i,className:n.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"stuPhone",variant:"outlined",label:"Student Phone Number"},c.stuPhone&&{error:!0,helperText:c.stuPhone},{value:t.stuPhone,onChange:i,className:n.text,fullWidth:!0})),r.a.createElement(Ee.a,Object.assign({variant:"outlined",className:n.text,fullWidth:!0},c.stuCat&&{error:!0}),r.a.createElement(he.a,{id:"demo-simple-select-outlined-label"},"Category"),r.a.createElement(ve.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:t.stuCat,name:"stuCat",onChange:i,label:"Category"},l.instCat?l.instCat.split(" ").map((function(e,a){return r.a.createElement(ge.a,{key:a,value:e},e)})):r.a.createElement(ge.a,{value:0},"none")),c.stuCat&&r.a.createElement(fe.a,null,c.stuCat))),r.a.createElement(h.a,{item:!0,xs:6,className:n.side},r.a.createElement(Ee.a,Object.assign({variant:"outlined",className:n.text,fullWidth:!0},c.stuSubCat&&{error:!0}),r.a.createElement(he.a,{id:"demo-simple-select-outlined-label"},"Sub-Category"),r.a.createElement(ve.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:t.stuSubCat,onChange:i,label:"Sub-Category",name:"stuSubCat"},l.instSubCat?l.instSubCat.split(" ").map((function(e,a){return r.a.createElement(ge.a,{key:a,value:e},e)})):r.a.createElement(ge.a,{value:0},"none")),c.stuSubCat&&r.a.createElement(fe.a,null,c.stuSubCat)),r.a.createElement(f.a,Object.assign({name:"stuParentName",variant:"outlined",label:"Parent Name"},c.stuParentName&&{error:!0,helperText:c.stuParentName},{value:t.stuParentName,onChange:i,className:n.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"stuRelation",variant:"outlined"},c.stuRelation&&{error:!0,helperText:c.stuRelation},{label:"RelationShip",value:t.stuRelation,onChange:i,className:n.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"stuParentNumber",variant:"outlined",label:"Parent Phone Number"},c.stuParentNumber&&{error:!0,helperText:c.stuParentNumber},{value:t.stuParentNumber,onChange:i,className:n.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"stuParentEmail",variant:"outlined",label:"Parent Email"},c.stuParentEmail&&{error:!0,helperText:c.stuParentEmail},{value:t.stuParentEmail,onChange:i,className:n.text,fullWidth:!0})))),r.a.createElement("div",{className:n.modal},r.a.createElement(g.a,(a={className:n.btn,variant:"contained",color:"primary"},Object(I.a)(a,"className",n.button),Object(I.a)(a,"type","submit"),Object(I.a)(a,"onClick",s),a),"ADD"))))}var je=t(207),Oe=t(213),Ne=r.a.forwardRef((function(e,a){return r.a.createElement(de.a,Object.assign({direction:"up",ref:a},e))})),Ce={stuName:"",stuId:"",stuEmail:"",stuPhone:"",stuCat:"",stuSubCat:"",stuParentName:"",stuRelation:"",stuParentNumber:"",stuParentEmail:"",active:!1},ye=Object(d.a)((function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},addPaper:{display:"flex",flexDirection:"row-reverse",marginTop:"7px"},paperInput:{padding:"15px",margin:"20px"},text:{padding:"4px",marginTop:"10px"},side:{paddingLeft:"20px"},btn:{marginBottom:"10px"}}}));function Pe(e){var a=e.CurrentId,t=e.valuesInst,i=e.editOpen,s=e.setEditOpen,l=Object(n.useState)(Ce),d=Object(u.a)(l,2),p=d[0],b=d[1],E=Object(n.useContext)(y).userDataf,v=Object(n.useState)(Ce),x=Object(u.a)(v,2),j=x[0],O=x[1],C=ye();Object(n.useEffect)((function(){P(a.id,a.uid)}),[i]);var P=function(){var e=Object(o.a)(c.a.mark((function e(a,t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/data/st/"+a+"/"+t,e.next=3,N.a.get(n,{headers:{"x-auth-token":E.token}});case 3:r=e.sent,console.log(r.data),b(r.data);case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),w=function(e){var a=e.target,t=a.name,n=a.value;b((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(I.a)({},t,n))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{TransitionComponent:Ne,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",open:i,onClose:function(){return s(!1)}},r.a.createElement(pe.a,null,"Edit Student Details"),r.a.createElement(be.a,null,r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(f.a,Object.assign({name:"stuName",variant:"outlined",label:"Student Name",autoFocus:!0},j.stuName&&{error:!0,helperText:j.stuNam},{value:p.stuName,onChange:w,className:C.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"stuId",variant:"outlined",label:"Student Id"},j.stuId&&{error:!0,helperText:j.stuId},{value:p.stuId,onChange:w,className:C.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"stuEmail",variant:"outlined",label:"Student Email"},j.stuEmail&&{error:!0,helperText:j.stuEmail},{value:p.stuEmail,onChange:w,className:C.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"stuPhone",variant:"outlined",label:"Student Phone Number"},j.stuPhone&&{error:!0,helperText:j.stuPhone},{value:p.stuPhone,onChange:w,className:C.text,fullWidth:!0})),r.a.createElement(Ee.a,Object.assign({variant:"outlined",className:C.text,fullWidth:!0},j.stuCat&&{error:!0}),r.a.createElement(he.a,{id:"demo-simple-select-outlined-label"},"Category"),r.a.createElement(ve.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:p.stuCat,name:"stuCat",onChange:w,label:"Category"},t.instCat?t.instCat.split(" ").map((function(e,a){return r.a.createElement(ge.a,{key:a,value:e},e)})):r.a.createElement(ge.a,{value:0},"none")),j.stuCat&&r.a.createElement(fe.a,null,j.stuCat))),r.a.createElement(h.a,{item:!0,xs:6,className:C.side},r.a.createElement(Ee.a,Object.assign({variant:"outlined"},j.stuCat&&{error:!0},{className:C.text,fullWidth:!0}),r.a.createElement(he.a,{id:"demo-simple-select-outlined-label"},"Sub-Category"),r.a.createElement(ve.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:p.stuSubCat,onChange:w,label:"Sub-Category",name:"stuSubCat"},t.instSubCat?t.instSubCat.split(" ").map((function(e,a){return r.a.createElement(ge.a,{key:a,value:e},e)})):r.a.createElement(ge.a,{value:0},"none")),j.stuCat&&r.a.createElement(fe.a,null,j.stuSubCat)),r.a.createElement(f.a,Object.assign({name:"stuParentName",variant:"outlined",label:"Parent Name"},j.stuParentName&&{error:!0,helperText:j.stuParentName},{value:p.stuParentName,onChange:w,className:C.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"stuRelation",variant:"outlined",label:"RelationShip"},j.stuRelation&&{error:!0,helperText:j.stuRelation},{value:p.stuRelation,onChange:w,className:C.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"stuParentNumber",variant:"outlined",label:"Parent Phone Number"},j.stuParentNumber&&{error:!0,helperText:j.stuParentNumber},{value:p.stuParentNumber,onChange:w,className:C.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"stuParentEmail",variant:"outlined",label:"Parent Email"},j.stuParentEmail&&{error:!0,helperText:j.stuParentEmail},{value:p.stuParentEmail,onChange:w,className:C.text,fullWidth:!0})))),r.a.createElement(je.a,{control:r.a.createElement(Oe.a,{checked:p.active,name:"active",inputProps:{"aria-label":"primary checkbox"},onChange:function(e){console.log(e.target.checked),b((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(I.a)({},"active",e.target.checked))}))}}),label:"Activate"}),r.a.createElement("div",{className:C.modal},r.a.createElement(g.a,{className:C.btn,variant:"contained",color:"primary",type:"submit",onClick:function(){var e=function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/data/st/"+a.id+"/"+a.uid,e.next=3,N.a.post(t,p,{headers:{"x-auth-token":E.token}});case 3:e.sent,b(Ce),s(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(function(){var e={};return e.stuName=p.stuName?"":"This feild is required.",e.stuEmail=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(p.stuEmail)?"":"Email is not vaild.",e.stuPhone=13===p.stuPhone.length?"":"Phone number is not valid..",e.stuCat=0!==p.stuCat.length?"":"This feild is required.",e.stuSubCat=0!==p.stuSubCat.length?"":"This feild is required.",e.stuParentName=p.stuParentName?"":"This feild is required.",e.stuRelation=p.stuRelation?"":"This feild is required.",e.stuParentNumber=13===p.stuParentNumber.length?"":"Phone number is not valid.",e.stuParentEmail=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(p.stuParentEmail)?"":"Email is not vaild.",O(Object(m.a)({},e)),Object.values(e).every((function(e){return""===e}))})()&&e()}},"Edit")))))}var we=r.a.forwardRef((function(e,a){return r.a.createElement(de.a,Object.assign({direction:"up",ref:a},e))})),ke=Object(d.a)((function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},addPaper:{display:"flex",flexDirection:"row-reverse",marginTop:"7px"},paperInput:{padding:"15px",margin:"20px"},text:{padding:"4px",marginTop:"10px"},side:{paddingLeft:"20px"},btn:{marginBottom:"10px"}}})),Se={stuName:"",stuId:"",stuEmail:"",stuPhone:"",stuCat:"",stuSubCat:"",stuParentName:"",stuRelation:"",stuParentNumber:"",stuParentEmail:"",active:!1},Te={instName:"",instEmail:"",instPhone:"",instAddress:"",instWebsite:"",instLogo:"",instSubCat:"",instCat:"",instActive:!1,instAdmin:[],instSutdentDetails:[]};function Ae(e){var a=e.match,t=ke(),i=Object(n.useContext)(y).userDataf,s=Object(n.useState)(!1),l=Object(u.a)(s,2),d=l[0],p=l[1],b=Object(n.useState)(Te),h=Object(u.a)(b,2),f=h[0],E=h[1],v=Object(n.useState)(),j=Object(u.a)(v,2),O=(j[0],j[1],Object(n.useState)(Se)),P=Object(u.a)(O,2),w=P[0],k=P[1],S=(Object(C.f)(),Object(n.useState)(Se)),T=Object(u.a)(S,2),A=T[0],W=T[1],D=Object(n.useState)(!1),Z=Object(u.a)(D,2),F=Z[0],$=Z[1],B=Object(n.useState)({id:0,uid:0}),Y=Object(u.a)(B,2),K=Y[0],G=Y[1];Object(n.useEffect)((function(){Q(a.params.id)}),[F]);var X=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are You Sure, You Want To Delete")){e.next=7;break}return n="/data/st/"+f._id+"/"+t,e.next=5,N.a.delete(n,{headers:{"x-auth-token":i.token}});case 5:e.sent,Q(a.params.id);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(o.a)(c.a.mark((function e(a){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return t="/data/Inst/"+a,e.next=4,N.a.get(t,{headers:{"x-auth-token":i.token}});case 4:n=e.sent,console.log(n.data),E((function(e){return n.data}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(x.a,{className:t.paperInput},r.a.createElement("div",{className:t.addPaper},r.a.createElement(g.a,{variant:"contained",color:"primary",className:t.btn,onClick:function(){return p(!0)}},"Add New Student")),r.a.createElement(L.a,{TransitionComponent:we,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",open:d,onClose:function(){return p(!1)}},r.a.createElement(xe,{student:A,classes:t,handleChange:function(e){var a=e.target,t=a.name,n=a.value;W((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(I.a)({},t,n))}))},onSubmitChange:function(){var e=function(){var e=Object(o.a)(c.a.mark((function e(a,t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stuPhone="+91"+t.stuPhone,t.stuParentNumber="+91"+t.stuParentNumber,n="/data/af/"+a,e.next=5,N.a.post(n,t,{headers:{"x-auth-token":i.token}});case 5:r=e.sent,console.log(r),p(!1),W(Se);case 9:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();(function(){var e={};return console.log(A),e.stuName=A.stuName?"":"This feild is required.",e.stuId=A.stuId?"":"This feild is required.",e.stuEmail=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(A.stuEmail)?"":"Email is not vaild.",e.stuPhone=10===A.stuPhone.length?"":"Phone number is not valid..",e.stuCat=0!==A.stuCat.length?"":"This feild is required.",e.stuSubCat=A.stuSubCat.length>0?"":"This feild is required.",e.stuParentName=A.stuParentName?"":"This feild is required.",e.stuRelation=A.stuRelation?"":"This feild is required.",e.stuParentNumber=10===A.stuParentNumber.length?"":"Phone number is not valid.",e.stuParentEmail=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(A.stuParentEmail)?"":"Email is not vaild.",console.log(e),k(Object(m.a)({},e)),Object.values(e).every((function(e){return""===e}))})()&&e(f._id,A)},valuesInst:f,errors:w,setErrors:k})),r.a.createElement(x.a,null,r.a.createElement(q.a,null,r.a.createElement(_.a,null,r.a.createElement(V.a,null," ",r.a.createElement(U.a,null,r.a.createElement(M.a,null,"Student Name"),r.a.createElement(M.a,{align:"right"},"Student ID"),r.a.createElement(M.a,{align:"right"},"Phone Number"),r.a.createElement(M.a,{align:"right"},"Email"),r.a.createElement(M.a,{align:"right"},"Category"),r.a.createElement(M.a,{align:"right"},"Sub-Category"),r.a.createElement(M.a,{align:"right"},"Active Status"),r.a.createElement(M.a,{align:"right"},"Actions"))),r.a.createElement(z.a,null,f.instSutdentDetails.map((function(e,a){return r.a.createElement(U.a,{key:a},r.a.createElement(M.a,null,e.stuName),r.a.createElement(M.a,{align:"right"},e.stuId),r.a.createElement(M.a,{align:"right"},e.stuPhone),r.a.createElement(M.a,{align:"right"},e.stuEmail),r.a.createElement(M.a,{align:"right"},e.stuCat),r.a.createElement(M.a,{align:"right"},e.stuSubCat),r.a.createElement(M.a,{align:"right"},e.active?"Active":"Deactive"),r.a.createElement(M.a,{align:"right"},r.a.createElement(R.a,{color:"primary",onClick:function(){return a=e._id,G({id:f._id,uid:a}),void $(!0);var a}},r.a.createElement(H.a,null)),r.a.createElement(R.a,{color:"secondary",onClick:function(){return X(e._id)}},r.a.createElement(J.a,null))))}))))),r.a.createElement(Pe,{CurrentId:K,valuesInst:f,editOpen:F,setEditOpen:$}))))}var We=t(208),Ie=t(209),De=t(101),Le=t.n(De),qe=t(102),_e=t.n(qe),ze=t(103),Ue=t.n(ze),Me=Object(d.a)((function(){return{paper:{marginTop:"20px",padding:"20px"},item:{margin:"20px"},pic:{display:"flex",justifyContent:"center",alignItems:"center"},addPaper:{display:"flex",flexDirection:"row-reverse",marginTop:"7px"},editbtn:{marginBottom:"10px"},paperInput:{padding:"25px"},side:{paddingLeft:"20px"},text:{padding:"4px",marginTop:"10px"},root:{width:600,margin:"7px 0"}}})),Re={instName:"",instEmail:"",instPhone:"",instAddress:"",instWebsite:"",instLogo:"",instSubDate:"",instMaxNumber:"",instActive:!1,instAdmin:[]},Ze={adminName:"",adminEmail:"",adminPhone:"",adminUserName:"",adminEmplyDes:"",adminEmplyId:"",adminId:""};function Fe(e){var a,t=e.match,i=Me(),s=Object(n.useContext)(y).userDataf,l=Object(n.useState)(Re),m=Object(u.a)(l,2),d=m[0],p=m[1],b=Object(n.useState)(Ze),g=Object(u.a)(b,2),f=g[0],E=(g[1],Object(n.useState)()),v=Object(u.a)(E,2),O=(v[0],v[1],Object(C.f)()),P=r.a.useState(-1),w=Object(u.a)(P,2),k=w[0],S=w[1],T=Object(n.useState)(!1),A=Object(u.a)(T,2),W=A[0],D=A[1];Object(n.useEffect)((function(){L(t.params.id)}),[f,k,t.params]);var L=function(){var e=Object(o.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/data/get/admin",e.next=3,N.a.get("/data/get/admin",{headers:{"x-auth-token":s.token}});case 3:t=e.sent,p(t.data),console.log(t.data),D(t.data.instActive);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,W?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{className:i.paper},r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:2,className:i.pic},r.a.createElement("img",(a={src:d.instLogo,style:{"object-fit":"cover"},width:"150",height:"150"},Object(I.a)(a,"style",{borderRadius:"80px"}),Object(I.a)(a,"alt",d.instName),a))),r.a.createElement(h.a,{item:!0,className:i.item,xs:8},r.a.createElement(j.a,{variant:"h2"},d.instName),r.a.createElement(j.a,{variant:"body1"},"Website :  "+d.instWebsite),r.a.createElement(j.a,{variant:"body1"},"Phone Number :  "+d.instPhone),r.a.createElement(j.a,{variant:"body1"},"Email :  "+d.instEmail),r.a.createElement(j.a,{variant:"body1"},"Address :  "+d.instAddress),r.a.createElement(j.a,{variant:"body1"},"Subscription End Date :  "+d.instSubDate.slice(0,10)),r.a.createElement(j.a,{variant:"body1"},d.instActive?"Activated":"Deactivated")))),r.a.createElement("div",{className:i.pic},r.a.createElement(We.a,{value:k,onChange:function(e,a){S(a)},showLabels:!0,className:i.root},r.a.createElement(Ie.a,{label:"Dashboard",icon:r.a.createElement(Le.a,null),onClick:function(){return O.push("/admin/dashboard/".concat(d._id))}}),r.a.createElement(Ie.a,{label:"Institution",onClick:function(){return O.push("/admin/institution/".concat(d._id))},icon:r.a.createElement(_e.a,null)}),r.a.createElement(Ie.a,{label:"User",icon:r.a.createElement(Ue.a,null),onClick:function(){return O.push("/admin/user/".concat(d._id))}}))),r.a.createElement(C.b,{exact:!0,path:"/admin/dashboard/:id",component:ce}),r.a.createElement(C.b,{exact:!0,path:"/admin/institution/:id",component:me}),r.a.createElement(C.b,{exact:!0,path:"/admin/user/:id",component:Ae})):r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{className:i.paper},r.a.createElement("h2",null,"Your Account is Inactive. Please Contact Super Admin"),r.a.createElement("h4",null,"Mobile Number : +91999999999"))))}function $e(e){var a=e.component,t=Object(te.a)(e,["component"]),i=Object(n.useContext)(y),s=(i.userDataf,i.setUserDataf,i.loggged);i.setLogged;return r.a.createElement(C.b,Object.assign({},t,{render:function(e){return console.log(s),"admin"===s?r.a.createElement(a,e):r.a.createElement(C.a,{to:{pathname:"/"}})}}))}var Be=Object(d.a)((function(){return{text:{padding:"4px",marginTop:"10px"},paperInput:{padding:"25px",margin:"20px",width:"90%"},side:{paddingLeft:"20px"},button:{marginLeft:"30px",margin:"10px 0"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},addPaper:{display:"flex",flexDirection:"row-reverse",marginTop:"7px"}}})),Ve={instName:"",instEmail:"",instPhone:"",instAddress:"",instWebsite:"",instLogo:"",instSubDate:new Date,instMaxNumber:"",instActive:!1};function Ye(e){var a=e.match,t=Be(),i=Object(n.useContext)(y).userDataf,s=Object(n.useState)(Ve),l=Object(u.a)(s,2),d=l[0],p=l[1],b=Object(n.useState)(),E=Object(u.a)(b,2),v=E[0],O=E[1],P=Object(C.f)(),k=Object(n.useState)(Ve),S=Object(u.a)(k,2),T=S[0],A=S[1];Object(n.useEffect)((function(){W(a.params.id)}),[]);var W=function(){var e=Object(o.a)(c.a.mark((function e(a){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/data/Inst/"+a,e.next=3,N.a.get(t,{headers:{"x-auth-token":i.token}});case 3:n=e.sent,console.log(n),p(n.data);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),D=function(e){var a=e.target,t=a.name,n=a.value;p((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(I.a)({},t,n))}))};return r.a.createElement("div",null,r.a.createElement(x.a,{className:t.paperInput},r.a.createElement("form",null,r.a.createElement(j.a,{variant:"h5"},"Edit Institute Details"),v&&r.a.createElement(w,{message:v,clearError:function(){return O("")}}),r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(f.a,Object.assign({name:"instName",variant:"outlined",label:"Institute Name",autoFocus:!0,value:d.instName},T.instName&&{error:!0,helperText:T.instName},{onChange:D,className:t.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instEmail",variant:"outlined",label:"Email",value:d.instEmail,onChange:D,className:t.text},T.instEmail&&{error:!0,helperText:T.instEmail},{fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instPhone",variant:"outlined",label:"Phone",value:d.instPhone,onChange:D,className:t.text},T.instPhone&&{error:!0,helperText:T.instPhone},{fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instAddress",variant:"outlined",label:"Address",value:d.instAddress,multiline:!0,rows:3},T.instAddress&&{error:!0,helperText:T.instAddress},{onChange:D,className:t.text,fullWidth:!0}))),r.a.createElement(h.a,{item:!0,xs:6,className:t.side},r.a.createElement(f.a,Object.assign({name:"instWebsite",variant:"outlined",label:"Website",value:d.instWebsite},T.instWebsite&&{error:!0,helperText:T.instWebsite},{onChange:D,className:t.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instLogo",variant:"outlined",label:"Logo URL",value:d.instLogo,onChange:D},T.instLogo&&{error:!0,helperText:T.instLogo},{className:t.text,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"instMaxNumber",variant:"outlined",label:"Max Number",value:d.instMaxNumber,onChange:D},T.instMaxNumber&&{error:!0,helperText:T.instMaxNumber},{className:t.text,fullWidth:!0})),r.a.createElement(F.a,{utils:Z.a},r.a.createElement($.a,{disableToolbar:!0,className:t.text,variant:"inline",name:"instSubDate",format:"MM/dd/yyyy",inputVariant:"outlined",margin:"normal",value:d.instSubDate,label:"Subscription End Date",fullWidth:!0,size:"small",onChange:D,KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(je.a,{control:r.a.createElement(Oe.a,{checked:d.instActive,name:"instActive",inputProps:{"aria-label":"primary checkbox"},onChange:function(e){p((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(I.a)({},"instActive",e.target.checked))}))}}),label:"Activate"})),r.a.createElement(g.a,{variant:"contained",color:"primary",className:t.button,type:"submit",onClick:function(e){e.preventDefault(),console.log(d._id);var a=function(){var e=Object(o.a)(c.a.mark((function e(a,t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="/data/inst/"+a,e.next=4,N.a.put(n,t,{headers:{"x-auth-token":i.token}});case 4:(r=e.sent)&&(console.log(r),P.push("/superadmin")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response.data.msg&&O(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,t){return e.apply(this,arguments)}}();(function(){var e={};return e.instEmail=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(d.instEmail)?"":"Email is not valid",e.instName=d.instName?"":"This feild is required.",e.instPhone=13===d.instPhone.length?"":"Phone number is not vaild.",e.instAddress=d.instAddress?"":"This feild is required.",e.instWebsite=d.instWebsite?"":"This feild is required.",e.instLogo=d.instLogo?"":"This feild is required.",e.instMaxNumber=d.instMaxNumber?"":"This feild is required.",A(Object(m.a)({},e)),Object.values(e).every((function(e){return""===e}))})()&&a(d._id,d)}},"Update"))))))}var Ke=Object(d.a)((function(){return{paper:{marginTop:"20px",padding:"20px"},item:{margin:"20px"},pic:{display:"flex",justifyContent:"center",alignItems:"center"},addPaper:{display:"flex",flexDirection:"row-reverse",marginTop:"7px"},editbtn:{marginBottom:"10px"},paperInput:{padding:"25px"},side:{paddingLeft:"20px"},text:{padding:"4px",marginTop:"10px"}}})),Je={instName:"",instEmail:"",instPhone:"",instAddress:"",instWebsite:"",instLogo:"",instSubDate:"",instMaxNumber:"",instActive:!1,instAdmin:[]},Ge={adminName:"",adminEmail:"",adminPhone:"",adminUserName:"",adminEmplyDes:"",adminEmplyId:"",adminId:""};function He(e){var a=e.match,t=Ke(),i=Object(n.useContext)(y).userDataf,s=Object(n.useState)(Je),l=Object(u.a)(s,2),d=l[0],p=l[1],b=Object(n.useState)(!1),E=Object(u.a)(b,2),v=E[0],O=E[1],P=Object(n.useState)(Ge),w=Object(u.a)(P,2),k=w[0],S=w[1],T=Object(n.useState)(Ge),A=Object(u.a)(T,2),W=A[0],Z=A[1],F=Object(n.useState)(),$=Object(u.a)(F,2),B=($[0],$[1]),Y=Object(C.f)(),K=Object(n.useState)(""),G=Object(u.a)(K,2),X=G[0],Q=G[1],ee=Object(n.useState)(""),ae=Object(u.a)(ee,2),te=ae[0],ne=ae[1],re=Object(n.useState)(!1),ie=Object(u.a)(re,2),se=ie[0],le=ie[1];Object(n.useEffect)((function(){ce(a.params.id)}),[v,k,se]);var ce=function(){var e=Object(o.a)(c.a.mark((function e(a){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/data/Inst/"+a,e.next=3,N.a.get(t,{headers:{"x-auth-token":i.token}});case 3:n=e.sent,console.log(n.data),p(n.data),console.log(n.data.instSubDate.slice(0,10));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),oe=function(e){var a=e.target,t=a.name,n=a.value;S((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(I.a)({},t,n))}))};return r.a.createElement("div",null,r.a.createElement(x.a,{className:t.paper},r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:2,className:t.pic},r.a.createElement("img",{src:d.instLogo,width:"150",height:"150",style:{borderRadius:"80px"},alt:d.instName})),r.a.createElement(h.a,{item:!0,className:t.item,xs:8},r.a.createElement(j.a,{variant:"h2"},d.instName),r.a.createElement(j.a,{variant:"body1"},"Website :  "+d.instWebsite),r.a.createElement(j.a,{variant:"body1"},"Phone Number :  "+d.instPhone),r.a.createElement(j.a,{variant:"body1"},"Email :  "+d.instEmail),r.a.createElement(j.a,{variant:"body1"},"Address :  "+d.instAddress),r.a.createElement(j.a,{variant:"body1"},"Subscription End Date :  "+d.instSubDate.slice(0,10)),r.a.createElement(j.a,{variant:"body1"},d.instActive?"Activate":"Deactivate")),r.a.createElement(h.a,{item:!0,xs:1,className:t.pic},r.a.createElement("div",{className:t.btnG},r.a.createElement(g.a,{variant:"contained",color:"primary",className:t.editbtn,onClick:function(){return Y.push("/superadmin/edit/".concat(d._id))}},"Edit"),r.a.createElement(g.a,{variant:"contained",color:"secondary",onClick:function(){return function(e){if(window.confirm("Are You Sure Want To Delete?")){var a="/data/inst/"+e;console.log(e),function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.delete(a,{headers:{"x-auth-token":i.token}});case 3:n=e.sent,console.log(n),Y.push("/superadmin"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response.data.msg&&B(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}()(e)}}(d._id)}},"Delete"))))),r.a.createElement(x.a,{className:t.paper},r.a.createElement(L.a,{"aria-labelledby":"form-dialog-title","aria-describedby":"simple-dialog-description",fullWidth:!0,maxWidth:"md",open:v,onClose:function(){O(!1),S(Ge),Z("")},className:t.pic},r.a.createElement(x.a,{className:t.paperInput},r.a.createElement("form",null,r.a.createElement(j.a,{variant:"h5"},"Add New Admin"),r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(f.a,Object.assign({name:"adminName",variant:"outlined",label:"Full Name",value:k.adminName,onChange:oe,className:t.text,required:!0},W.adminName&&{error:!0,helperText:W.adminName},{fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"adminPhone",variant:"outlined",label:"Phone",value:k.adminPhone,onChange:oe,className:t.text,required:!0},W.adminPhone&&{error:!0,helperText:W.adminPhone},{fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"adminEmail",variant:"outlined",label:"Email",value:k.adminEmail,onChange:oe,className:t.text,required:!0},W.adminEmail&&{error:!0,helperText:W.adminEmail},{fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"adminEmplyId",variant:"outlined",label:"Employee ID",value:k.adminEmplyId,onChange:oe,className:t.text,required:!0},W.adminEmplyId&&{error:!0,helperText:W.adminEmplyId},{fullWidth:!0}))),r.a.createElement(h.a,{item:!0,xs:6,className:t.side},r.a.createElement(f.a,Object.assign({name:"adminEmplyDes",variant:"outlined",label:"Employee Designation",value:k.adminEmplyDes,onChange:oe,className:t.text,required:!0},W.adminEmplyDes&&{error:!0,helperText:W.adminEmplyDes},{fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"adminUserName",variant:"outlined",label:"Username",value:k.adminUserName,onChange:oe,className:t.text,required:!0},W.adminUserName&&{error:!0,helperText:W.adminUserName},{fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"adminPassword",variant:"outlined",label:"Password",type:"password",value:te,onChange:function(e){ne(e.target.value)},className:t.text,required:!0},W.adminPassword&&{error:!0,helperText:W.adminPassword},{fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"adminConPassword",variant:"outlined",label:"Confirm Password",type:"password",value:X,onChange:function(e){Q(e.target.value)},className:t.text,required:!0},W.adminConPassword&&{error:!0,helperText:W.adminConPassword},{fullWidth:!0}))),r.a.createElement(h.a,{item:!0,xs:12,className:t.pic},r.a.createElement(g.a,{className:t.text,variant:"contained",color:"primary",size:"large",onClick:function(e){e.preventDefault();var t=function(){var e=Object(o.a)(c.a.mark((function e(){var t,n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("came here"),"/user/register",t="/data/admin/add/"+a.params.id,n={userName:k.adminUserName,password:te},e.next=6,N.a.post("/user/register",n,{headers:{"x-auth-token":i.token}});case 6:return r=e.sent,S((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(I.a)({},"adminId",r.data._id))})),(s=Object(m.a)({},k)).adminId=r.data._id,s.adminPhone="+91"+s.adminPhone,e.next=13,N.a.post(t,s,{headers:{"x-auth-token":i.token}});case 13:e.sent,S(Ge),O(!1),ne(""),Q("");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(function(){var e={};return e.adminName=k.adminName?"":"This feild is required.",e.adminEmail=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(k.adminEmail)?"":"Email is not valid.",e.adminPhone=10===k.adminPhone.length?"":"Phone number is not valid.",e.adminUserName=k.adminUserName.length>3?"":"Username must be 4 character long.",e.adminEmplyDes=k.adminEmplyDes?"":"This feild is required.",e.adminEmplyId=k.adminEmplyId?"":"This feild is required.",e.adminPassword=te.length>7?"":"Password must be 8 character long.",e.adminConPassword=X?"":"This feild is required.",e.adminConPassword=te===X?"":"Password did not match.",Z(Object(m.a)({},e)),Object.values(e).every((function(e){return""===e}))})()&&(console.log("paassed"),t())}},"Save")))))),r.a.createElement("div",{className:t.addPaper},r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(){return O(!0)},className:t.button,endIcon:r.a.createElement(D.a,null,"send")},"Add New Admin")),r.a.createElement(q.a,{component:x.a,xs:12},r.a.createElement(_.a,{"arial-label":"simple table"},r.a.createElement(V.a,null,r.a.createElement(U.a,null,r.a.createElement(M.a,null,"Name"),r.a.createElement(M.a,{align:"right"},"Username"),r.a.createElement(M.a,{align:"right"},"Email"),r.a.createElement(M.a,{align:"right"},"Phone"),r.a.createElement(M.a,{align:"right"},"Employee Id"),r.a.createElement(M.a,{align:"right"},"Employee Designation"),r.a.createElement(M.a,{align:"right"},"Action"))),r.a.createElement(z.a,null,d.instAdmin.map((function(e,t){return r.a.createElement(U.a,{key:e._id},r.a.createElement(M.a,null,e.adminName),r.a.createElement(M.a,{align:"right"},e.adminUserName),r.a.createElement(M.a,{align:"right"},e.adminEmail),r.a.createElement(M.a,{align:"right"},e.adminPhone),r.a.createElement(M.a,{align:"right"},e.adminEmplyId),r.a.createElement(M.a,{align:"right"},e.adminEmplyDes),r.a.createElement(M.a,{align:"right"},r.a.createElement(R.a,{color:"primary",onClick:function(){return Y.push("/suadmin/edit/".concat(a.params.id,"/").concat(e._id))}},r.a.createElement(H.a,null)),r.a.createElement(R.a,{color:"secondary",onClick:function(){return function(e){if(window.confirm("Are You Sure Want To Delete?")){var t="/data/admin/"+a.params.id+"/"+e;(function(){var e=Object(o.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.delete(t,{headers:{"x-auth-token":i.token}});case 3:n=e.sent,console.log(n),Y.push("/superadmin/view/"+a.params.id),le((function(e){return!e})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response.data.msg&&B(e.t0.response.data.msg);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}}(e._id)}},r.a.createElement(J.a,null))))})))))))}var Xe=Object(d.a)((function(){return{text:{padding:"4px",marginTop:"10px"},paperInput:{padding:"25px",margin:"20px",width:"90%"},side:{paddingLeft:"20px"},button:{marginLeft:"30px",margin:"10px 0"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},addPaper:{display:"flex",flexDirection:"row-reverse",marginTop:"7px"}}})),Qe={adminName:"",adminEmail:"",adminPhone:"",adminUserName:"",adminEmplyDes:"",adminEmplyId:"",adminId:""};function ea(e){var a=e.match;console.log(a);var t=Object(C.f)(),i=Object(n.useContext)(y).userDataf,s=Object(n.useState)(Qe),l=Object(u.a)(s,2),d=l[0],p=l[1],b=Object(n.useState)(),E=Object(u.a)(b,2),v=(E[0],E[1],Object(n.useState)(Qe)),O=Object(u.a)(v,2),P=O[0],w=O[1];Object(n.useEffect)((function(){k(a.params.id,a.params.uid)}),[]);var k=function(){var e=Object(o.a)(c.a.mark((function e(a,t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/data/admin/"+a+"/"+t,e.next=3,N.a.get(n,{headers:{"x-auth-token":i.token}});case 3:r=e.sent,console.log(r,"found Admin"),p(r.data);case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),S=function(){var e={};return e.adminName=d.adminName?"":"This feild is required.",e.adminEmail=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(d.adminEmail)?"":"Email is not valid.",e.adminPhone=13===d.adminPhone.length?"":"Phone number is not valid.",e.adminEmplyDes=d.adminEmplyDes?"":"This feild is required.",e.adminEmplyId=d.adminEmplyId?"":"This feild is required.",w(Object(m.a)({},e)),Object.values(e).every((function(e){return""===e}))},T=function(e){console.log(e);var a=e.target,t=a.name,n=a.value;p((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(I.a)({},t,n))}))},A=Xe();return r.a.createElement("div",null,r.a.createElement(x.a,{className:A.paperInput},r.a.createElement("form",null,r.a.createElement(j.a,{variant:"h5"},"Edit Admin Details"),r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(f.a,{name:"adminUserName",variant:"outlined",label:"Username",value:d.adminUserName,disabled:!0,className:A.text,required:!0,fullWidth:!0}),r.a.createElement(f.a,Object.assign({name:"adminName",variant:"outlined",label:"Full Name"},P.adminName&&{error:!0,helperText:P.adminName},{value:d.adminName,onChange:T,className:A.text,required:!0,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"adminPhone",variant:"outlined",label:"Phone"},P.adminPhone&&{error:!0,helperText:P.adminPhone},{value:d.adminPhone,onChange:T,className:A.text,required:!0,fullWidth:!0}))),r.a.createElement(h.a,{item:!0,xs:6,className:A.side},r.a.createElement(f.a,Object.assign({name:"adminEmail",variant:"outlined",label:"Email",value:d.adminEmail,onChange:T},P.adminEmail&&{error:!0,helperText:P.adminEmail},{className:A.text,required:!0,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"adminEmplyId",variant:"outlined",label:"Employee ID",value:d.adminEmplyId},P.adminEmplyId&&{error:!0,helperText:P.adminEmplyId},{onChange:T,className:A.text,required:!0,fullWidth:!0})),r.a.createElement(f.a,Object.assign({name:"adminEmplyDes",variant:"outlined",label:"Employee Designation",value:d.adminEmplyDes},P.adminEmplyDes&&{error:!0,helperText:P.adminEmplyDes},{onChange:T,className:A.text,required:!0,fullWidth:!0}))),r.a.createElement(h.a,{item:!0,xs:12,className:A.pic},r.a.createElement(g.a,{className:A.text,variant:"contained",color:"primary",size:"large",onClick:function(e){e.preventDefault(),console.log(d);var n=function(){var e=Object(o.a)(c.a.mark((function e(a,n){var r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/data/admin/"+a+"/"+n,e.next=3,N.a.post(r,d,{headers:{"x-auth-token":i.token}});case 3:s=e.sent,console.log(s),t.push("/superadmin/view/"+a);case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();S()&&n(a.params.id,a.params.uid)}},"Save"))))))}var aa=Object(d.a)((function(){return{text:{padding:"4px",marginTop:"10px"},paperInput:{padding:"25px",margin:"20px",width:"90%"},side:{paddingLeft:"20px"},button:{marginLeft:"30px",margin:"10px 0"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},addPaper:{display:"flex",flexDirection:"row-reverse",marginTop:"7px"}}})),ta={instName:"",instEmail:"",instPhone:"",instAddress:"",instWebsite:"",instLogo:"",instSubDate:new Date,instMaxNumber:"",instActive:Boolean};function na(e){var a=e.match,t=aa(),i=Object(n.useContext)(y).userDataf,s=Object(n.useState)(ta),l=Object(u.a)(s,2),d=l[0],p=l[1],b=Object(n.useState)(),E=Object(u.a)(b,2),v=E[0],O=E[1],P=Object(C.f)();Object(n.useEffect)((function(){k(a.params.id)}),[]);var k=function(){var e=Object(o.a)(c.a.mark((function e(a){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/data/Inst/"+a,e.next=3,N.a.get(t,{headers:{"x-auth-token":i.token}});case 3:n=e.sent,console.log(n),p(n.data);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),S=function(e){var a=e.target,t=a.name,n=a.value;p((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(I.a)({},t,n))}))};return r.a.createElement("div",null,r.a.createElement(x.a,{className:t.paperInput},r.a.createElement("form",null,r.a.createElement(j.a,{variant:"h5"},"Edit Institute Details"),v&&r.a.createElement(w,{message:v,clearError:function(){return O("")}}),r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(f.a,{name:"instName",variant:"outlined",label:"Institute Name",autoFocus:!0,value:d.instName,onChange:S,className:t.text,fullWidth:!0}),r.a.createElement(f.a,{name:"instEmail",variant:"outlined",label:"Email",value:d.instEmail,onChange:S,className:t.text,fullWidth:!0}),r.a.createElement(f.a,{name:"instPhone",variant:"outlined",label:"Phone",value:d.instPhone,onChange:S,className:t.text,fullWidth:!0}),r.a.createElement(f.a,{name:"instAddress",variant:"outlined",label:"Address",value:d.instAddress,multiline:!0,rows:3,onChange:S,className:t.text,fullWidth:!0})),r.a.createElement(h.a,{item:!0,xs:6,className:t.side},r.a.createElement(f.a,{name:"instWebsite",variant:"outlined",label:"Website",value:d.instWebsite,onChange:S,className:t.text,fullWidth:!0}),r.a.createElement(f.a,{name:"instLogo",variant:"outlined",label:"Logo URL",value:d.instLogo,onChange:S,className:t.text,fullWidth:!0}),r.a.createElement(f.a,{name:"instMaxNumber",variant:"outlined",label:"Max Number",value:d.instMaxNumber,onChange:S,className:t.text,fullWidth:!0}),r.a.createElement(F.a,{utils:Z.a},r.a.createElement($.a,{disableToolbar:!0,className:t.text,variant:"inline",name:"instSubDate",format:"MM/dd/yyyy",inputVariant:"outlined",margin:"normal",value:d.instSubDate,label:"Subscription End Date",fullWidth:!0,size:"small",onChange:S,KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(je.a,{control:r.a.createElement(Oe.a,{checked:d.instActive,name:"instActive",inputProps:{"aria-label":"primary checkbox"},onChange:function(e){console.log(e.target.checked),p((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(I.a)({},"instActive",e.target.checked))}))}}),label:"Activate"})),r.a.createElement(g.a,{variant:"contained",color:"primary",className:t.button,type:"submit",onClick:function(e){e.preventDefault(),console.log(d._id),function(){var e=Object(o.a)(c.a.mark((function e(a,t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="/data/inst/"+a,e.next=4,N.a.put(n,t,{headers:{"x-auth-token":i.token}});case 4:(r=e.sent)&&(console.log(r),P.push("/admin")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response.data.msg&&O(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,t){return e.apply(this,arguments)}}()(d._id,d)}},"Update"))))))}t(151);var ra=function(){var e=Object(n.useState)({token:void 0,user:void 0}),a=Object(u.a)(e,2),t=a[0],i=a[1],s=Object(n.useState)(""),l=Object(u.a)(s,2),m=l[0],d=l[1];return Object(n.useEffect)((function(){(function(){var e=Object(o.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(a=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),a=""),e.next=4,N.a.post("/user/tovalidate",null,{headers:{"x-auth-token":a}});case 4:if(!e.sent){e.next=11;break}return e.next=8,N.a.get("/user",{headers:{"x-auth-token":a}});case 8:t=e.sent,i({token:a,user:t.data}),d(t.data.role);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(A.a,null,r.a.createElement(y.Provider,{value:{userDataf:t,setUserDataf:i,loggged:m,setLogged:d}},r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement(W.a,null,r.a.createElement(ie,{exact:!0,path:"/superadmin",component:ae}),r.a.createElement($e,{path:"/admin",component:Fe}),r.a.createElement(C.b,{exact:!0,path:"/superadmin/edit/:id",component:Ye}),r.a.createElement(C.b,{exact:!0,path:"/superadmin/view/:id",component:He}),r.a.createElement(C.b,{exact:!0,path:"/suadmin/edit/:id/:uid",component:ea}),r.a.createElement(C.b,{exact:!0,path:"/a/edit/:id",component:na}),r.a.createElement(C.b,{exact:!0,path:"/",component:re})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ra,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[121,1,2]]]);
//# sourceMappingURL=main.ccb6c05d.chunk.js.map